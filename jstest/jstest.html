<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			
			var str="3-15,11-20";
			var arr=str.split("-");
			var values=[];
			var rege=new RegExp("^[0-9]*$");
			var flag=true;
			var last=0;
			for(var i=0;i<arr.length;i++){
				if(arr[i].indexOf(',')!=-1){
					var temps=arr[i].split(',');
					for(var j=0;j<temps.length;j++){
						if(!rege.test(temps[j])){
							console.log('请输入数字');
							flag=false;
							break;
						}
						if(parseInt(temps[j])<=parseInt(last)){
							console.log('请输入合适数字');
							flag=false;
							break;
						}
						last=temps[j];
						values.push(temps[j]);
					}
					if(!flag){
						break;
					}
				}else{
					if(!rege.test(arr[i])){
					   console.log('请输入数字');
					   flag=false;
					   break;
				    }
					if(parseInt(arr[i])<=parseInt(last)){
						console.log('请输入合适数字');
						flag=false;
						break;
					}
					last=arr[i];
				    values.push(arr[i]);
				}
				
			}
			console.log(values);
		</script>
	</head>
	<body>
	<input onblur />
	</body>
</html>
